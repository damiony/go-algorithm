

### 堆

- 堆是一种完全二叉树
- 堆中每个节点的值都大于等于（或者小于等于）子树节点的值，等价说法为，每个节点值都大于等于（小于等于）其左右子节点的值。

一般使用数组存储堆，因为使用数组存储完全二叉树这种结构比较节省空间。

数组下标从`1`开始，节点`i`的左节点为`2i`，右节点为`2i+1`。

----

### 堆化

- 自上向下堆化：

  父子节点进行对比，如果不满足大小关系，交换位置，一直重复这个过程，直到父子节点满足大小关系。

- 自下向上堆化

  当前节点与父节点比较大小，如果不满足大小关系，交换位置，一直重复这个过程，直到父子节点满足大小关系。

----

### 删除

堆的删除操作为：

- 删除堆顶元素。
- 将堆的最后一个元素移到堆顶。
- 自上向下堆化

时间复杂度：`O(logn)`

----

### 插入

插入操作为：

- 在堆的最后位置插入数据
- 自下向上堆化

时间复杂度：`O(logn)`

----

### 堆排序

堆排序是一种原地、不稳定的排序算法。

- 建堆

  一般使用自上向下的堆化方法，从下标`n/2`开始，到下标`1`结束

- 排序

  将堆顶元素移到最后，然后对剩下的`n-1`个元素进行堆化，一直重复这个过程，直到剩下的元素个数为`1`

时间复杂度：`O(nlogn)`

----

### 堆排序 VS 快速排序

- 堆排序数据访问方式不友好
- 堆排序交换次数多于快速排序